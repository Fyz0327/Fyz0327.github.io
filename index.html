
<!文件类型 HTML格式>
<HTML格式 长距离="zh-CN">
<头>
    <元 charset=“UTF-8”>
    <元 名称="视口" 内容=宽度=设备宽度，初始比例=1.0>
    <标题>贪吃蛇游戏</标题>
    <风格>
        身体 {
            显示:flex；
            对齐内容：中心；
            对齐项目：中心；
            高度: 100伏;
            边距: 0;
            背景色: #f4f4f4;
            字体系列:Arial，无衬线；
}
        画布 {
            边界: 2像素 固体的 #333;
            背景色: #fff;
        }
        .info信息 {
            位置：绝对；
            顶部: 20像素;
            文本对齐：中心；
        }
        .info信息 p {
            边距: 5像素 0;
            字体大小: 1.2雷姆;
        }
    </风格>
</头>
<身体>
    <div格式 等级=“信息”>
        <p><强烈的>贪吃蛇游戏</强烈的></p>
        <p>控制方式：方向键</p>
    </div格式>
    <画布 身份=游戏画布 宽度="400" 高度="400"></画布>

    <脚本>
        常量 画布= 文件.getElementById(游戏画布);
        常量 ctx=画布。getContext(“2D”);

        常量 网格大小= 20; // 网格大小
        让 蛇=[ x: 200, y: 200 }]; // 蛇的初始位置
        让 方向= x: 0, y: 0 }; // 当前移动方向
        让 食物= x: 获取随机网格(), y: 获取随机网格() }; // 食物位置
        让 分数= 0; // 分数

        功能 获取随机网格() {
            返回 数学.地板(数学.随机的()*(画布。宽度 /GridSize))*GridSize；
}

        功能 拉线(x、y、颜色) {
ctx.填充样式 =颜色；
ctx.fillRect（x,y,GridSize,GridSize）；
}

        功能 画蛇() {
蛇。对于每个(段 => 拉线(段。x，段。y, “绿色”));
        }

        功能 绘制食物() {
            拉线(食物。x，食物。y, “红色”);
        }

        功能 移动蛇() {
            常量 头= x：蛇[0].x +方向。x, y：蛇[0].y +方向。y };
蛇。不移动（头）；

            如果 (头。x ===食物。x &&头。y ===食物。y) {
食物= x: 获取随机网格(), y: 获取随机网格() };
分数++；
            } 其他的 {
蛇。流行();
}
        }

        功能 检查碰撞() {
            常量 头=蛇[0];

            // 检查是否撞墙
            如果 (头。x < 0 ||头。y < 0 ||头。x >=画布。宽度 ||头。y >=画布。高度) {
                返回 真实的;
            }

            // 检查是否撞到自身
            对于 (让 i= 1；我<蛇。长度;i++){
                如果 (头。x ===蛇【i】。x &&头。y ===蛇【i】。y) {
                    返回 真实的;
                }
            }

            返回 假的;
        }

        功能 更新() {
            移动蛇();
            如果 (检查碰撞()) {
                警觉("游戏结束！ 你的分数是：" +分数)；
                resetGame();
                返回;
            }

ctx.清除Rect(0, 0，画布。宽度，画布。高度);
            画蛇();
            绘制食物();

            requestAnimationFrame（更新）；
        }

        功能 resetGame() {
蛇=[ x: 200, y: 200 }];
方向= x: 0, y: 0 };
食物= x: 获取随机网格(), y: 获取随机网格() };
分数= 0;
        }

        文件.添加事件监听器(按键, (事件) => {
            开关 (事件。钥匙) {
                案例 "ArrowUp":
                    如果 (方向。y === 0)方向={ x: 0, y:-gridSize}；
                    打破;
                案例 “箭头向下”:
                    如果 (方向。y === 0)方向={ x: 0, y:GridSize}；
                    打破;
                案例 “左箭头”:
                    如果 (方向。x === 0)方向={ x:-网格大小， y: 0 };
                    打破;
                案例 “向右箭头”:
                    如果 (方向。x === 0)方向={ x:GridSize， y: 0 };
                    打破;
            }
        });

        // 启动游戏
        更新();
    </脚本>
</身体>
</HTML格式>










